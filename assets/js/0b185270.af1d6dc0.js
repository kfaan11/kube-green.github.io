"use strict";(self.webpackChunkkube_green_github_io=self.webpackChunkkube_green_github_io||[]).push([[4885],{7394:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var t=n(5893),i=n(1151),r=n(1824);const o={sidebar_position:11},a="FAQ",l={id:"FAQ",title:"FAQ",description:"I have a couple of nodes with low utilization, but they are not scaled down. Why?",source:"@site/docs/FAQ.mdx",sourceDirName:".",slug:"/FAQ",permalink:"/docs/FAQ",draft:!1,unlisted:!1,editUrl:"https://github.com/kube-green/kube-green.github.io/edit/main/docs/FAQ.mdx",tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"API Reference",permalink:"/docs/apireference_v1alpha1"},next:{title:"Adopters",permalink:"/docs/adopters"}},d={},c=[{value:"I have a couple of nodes with low utilization, but they are not scaled down. Why?",id:"i-have-a-couple-of-nodes-with-low-utilization-but-they-are-not-scaled-down-why",level:3},{value:"How many CO2 is produced by pod?",id:"how-many-co2-is-produced-by-pod",level:3}];function u(e){const s={a:"a",h1:"h1",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"faq",children:"FAQ"}),"\n",(0,t.jsx)(s.h3,{id:"i-have-a-couple-of-nodes-with-low-utilization-but-they-are-not-scaled-down-why",children:"I have a couple of nodes with low utilization, but they are not scaled down. Why?"}),"\n",(0,t.jsxs)(s.p,{children:["Have you set the ",(0,t.jsx)(s.a,{href:"https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler",children:"cluster autoscaler"}),"?"]}),"\n",(0,t.jsxs)(s.p,{children:["If cluster autoscaler is set up, it should be correctly configured to scale down the nodes.\nTo see the possible issues, check the ",(0,t.jsx)(s.a,{href:"https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#i-have-a-couple-of-nodes-with-low-utilization-but-they-are-not-scaled-down-why",children:"cluster autoscaler documentation"}),"."]}),"\n",(0,t.jsx)(s.h3,{id:"how-many-co2-is-produced-by-pod",children:"How many CO2 is produced by pod?"}),"\n",(0,t.jsx)(s.p,{children:"This calculations are based on the following assumptions:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Emissions for cloud server using 100% green electricity: ",(0,t.jsx)(s.strong,{children:"160 Kg CO2eq / year and server"})," (from ",(0,t.jsx)(s.a,{href:"https://www.goclimate.com/blog/the-carbon-footprint-of-servers/#:~:text=Cloud%20server%20using%20100%25%20green%20electricity:%20160%20kg%20CO2e%20/%20year%20and%20server",children:"goclimate.com"}),"\n)"]}),"\n",(0,t.jsxs)(s.li,{children:["Cluster node of 2 cpu. We approximate ",(0,t.jsx)(s.strong,{children:"1 node is 1 server"})]}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"15 pods per node"})}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["With this assumption, the mean consumption of CO2 per pod in a year is 160 / 15 = ",(0,t.jsx)(s.strong,{children:"11 Kg CO2eq / year per pod"}),"."]}),"\n","\n","\n",(0,t.jsx)(r.Z,{})]})}function h(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},1824:(e,s,n)=>{n.d(s,{Z:()=>d});var t=n(7294),i=n(9887),r=n.n(i),o=n(512);const a={inputCalc:"inputCalc_Frxq",inputWrapper:"inputWrapper_O3Zi",card:"card_c9eN",cardBody:"cardBody_FCxH",subTitle:"subTitle_Vwj9"};var l=n(5893);function d(){const[e,s]=t.useState(new(r())(11)),[n,i]=t.useState(new(r())(100)),[d,c]=t.useState(new(r())(100)),[p,m]=t.useState(new(r())(128)),b=t.useMemo((()=>u(e,n,d,p)),[e,n,d,p]),x=t.useMemo((()=>u(e,n,d,new(r())(0))),[e,n,d]),w=t.useMemo((()=>new(r())(b).minus(x).dividedBy(x).mul(100).toDecimalPlaces(1).abs().toString()),[x,b]);return(0,l.jsxs)("div",{className:(0,o.Z)(a.card,"card"),children:[(0,l.jsx)("div",{className:"card__header",children:(0,l.jsx)("h2",{children:"CO2 Calculator"})}),(0,l.jsxs)("div",{className:"card__body",children:[(0,l.jsxs)("div",{className:a.cardBody,children:[(0,l.jsx)(h,{label:"CO2 per pods per year (kg CO2eq)",onInputChange:s,value:e}),(0,l.jsx)(h,{label:"Total number of pods",onInputChange:i,value:n}),(0,l.jsx)(h,{label:"Total pods when kube-green active",onInputChange:c,value:d}),(0,l.jsx)(h,{label:"Hour of sleep per week",onInputChange:m,value:p})]}),(0,l.jsxs)("h3",{children:["Results",(0,l.jsx)("div",{className:a.subTitle,children:"Total (Kg CO2eq/week)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("b",{children:[w,"% CO2 saved"]})," ","with kube-green"]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:["without kube-green:"," ",x.toString()]}),(0,l.jsx)("div",{children:(0,l.jsxs)("b",{children:["with kube-green:"," ",b.toString()]})})]})]})]})}const c=new(r())(7).mul(new(r())(24));function u(e,s,n,t){const i=e.dividedBy(365).dividedBy(24),r=i.mul(s.minus(n)).mul(t),o=i.mul(s).mul(c.minus(t));return r.plus(o).toDecimalPlaces(0)}function h(e){let{label:s,value:n,onInputChange:t}=e;return(0,l.jsxs)("div",{className:a.inputWrapper,children:[(0,l.jsx)("div",{children:s}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{className:a.inputCalc,onChange:e=>t(new(r())(e.target.value||0)),type:"number",value:n.toString()})})]})}}}]);